<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/scan-analysis-refresh" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Scanning, Analyzing and Refreshing Metadata | Komga</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://komga.org/docs/guides/scan-analysis-refresh"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Scanning, Analyzing and Refreshing Metadata | Komga"><meta data-rh="true" name="description" content="Once a library has been created, it is processed by Komga so all the files are matched to series and books, and metadata is gathered. As time goes on, you’ll add and remove books to the libraries or make other changes that mean the library is no longer up-to-date. You can Scan libraries to bring them up-to-date. Scanning, Analyzing and Refreshing a library do different things."><meta data-rh="true" property="og:description" content="Once a library has been created, it is processed by Komga so all the files are matched to series and books, and metadata is gathered. As time goes on, you’ll add and remove books to the libraries or make other changes that mean the library is no longer up-to-date. You can Scan libraries to bring them up-to-date. Scanning, Analyzing and Refreshing a library do different things."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://komga.org/docs/guides/scan-analysis-refresh"><link data-rh="true" rel="alternate" href="https://komga.org/docs/guides/scan-analysis-refresh" hreflang="en"><link data-rh="true" rel="alternate" href="https://komga.org/docs/guides/scan-analysis-refresh" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YU8KIUZCE7-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Announcements RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Announcements Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Announcements JSON Feed"><link rel="stylesheet" href="/assets/css/styles.3d44b54b.css">
<script src="/assets/js/runtime~main.1900bbae.js" defer="defer"></script>
<script src="/assets/js/main.793d3754.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Komga Logo" class="themedComponent_siVc themedComponent--light_hHel"><img src="/img/logo.svg" alt="Komga Logo" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">Komga</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/docs/api/rest">API</a><a class="navbar__item navbar__link" href="/blog">Announcements</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/TdRpkDu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord server"></a><a href="https://github.com/gotson/komga" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/installation">Installation</a><button aria-label="Collapse sidebar category &#x27;Installation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/official-methods">Official methods</a><button aria-label="Expand sidebar category &#x27;Official methods&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/third-party-methods">Third-party methods</a><button aria-label="Expand sidebar category &#x27;Third-party methods&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/installation/configuration">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/guides">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/webui">Accessing the web interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/desktop">Desktop Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/libraries">Libraries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/trash">Emptying Library Trash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/scan-analysis-refresh">Scanning, Analyzing and Refreshing Metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/image-formats">Image Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/oneshots">One-Shots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/edit-metadata">Edit Metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/local-artwork-assets">Local Artwork Assets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/user-accounts">User accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/server-settings">Server settings &amp; management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/read-progress">Read progress</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/collections">Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/readlists">Read lists</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/search">Full Text Search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/import-books">Import Books</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/duplicate-files">Duplicate Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/duplicate-pages">Duplicate Pages</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/readers">Readers</a><button aria-label="Expand sidebar category &#x27;Readers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/theme">Theme</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/announcements">Announcements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/cli">Command Line Interface</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribution">Contribution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/community">Community</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq">Frequently Asked Questions</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_oTwn"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_pMEX"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/guides"><span itemprop="name">Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Scanning, Analyzing and Refreshing Metadata</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Scanning, Analyzing and Refreshing Metadata</h1></header>
<p>Once a library has been created, it is processed by Komga so all the files are matched to series and books, and metadata is gathered. As time goes on, you’ll add and remove books to the libraries or make other changes that mean the library is no longer up-to-date. You can Scan libraries to bring them up-to-date. Scanning, Analyzing and Refreshing a library do different things.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="scan-library-files">Scan Library Files<a href="#scan-library-files" class="hash-link" aria-label="Direct link to Scan Library Files" title="Direct link to Scan Library Files">​</a></h2>
<p>Scanning a library makes Komga check its folders and sub-folders for new or removed books. If it finds new media, it then pulls it into the library. You can think of scanning as “check for new or changed content”.</p>
<p>All files that have changed after a scan will be Analyzed.</p>
<p>You should Scan Library Files if you have:</p>
<ul>
<li>Added or deleted files or folders</li>
<li>Renamed a file or folder</li>
<li>Moved files or folders from one location to another</li>
</ul>
<p>By default, Komga will scan your libraries regularly.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="deep-scan">Deep scan<a href="#deep-scan" class="hash-link" aria-label="Direct link to Deep scan" title="Direct link to Deep scan">​</a></h3>
<p>This will force the scanner to compare all scanned books with the ones stored in the database. Normally this is not required, as Komga uses the last modified time of the parent folders to decide whether to compare books, but some filesystems may behave differently.</p>
<p>Trigger a Deep Scan if Komga is missing some books after a scan.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="what-happens-during-a-scan">What happens during a Scan?<a href="#what-happens-during-a-scan" class="hash-link" aria-label="Direct link to What happens during a Scan?" title="Direct link to What happens during a Scan?">​</a></h2>
<p>Komga will generate a library representation of your files on disk. A Komga library does <em>not</em> represent exactly your folder structure.</p>
<ul>
<li>Komga will create a <em>Series</em> for each subfolder of any library, whatever the depth of this subfolder in your directory structure</li>
<li>Komga will create a <em>Book</em> for each file found, and place it inside the <em>Series</em> corresponding to the parent folder of the file</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="analyze-books">Analyze books<a href="#analyze-books" class="hash-link" aria-label="Direct link to Analyze books" title="Direct link to Analyze books">​</a></h2>
<p>Analysis is automatically performed when content is added to your Library. In rare cases, new versions of Komga may update the media analysis capabilities to correct something or add the ability to detect new things. In those cases, content may be re-analyzed when you access it after the new server version is installed.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="what-happens-during-analysis">What happens during Analysis?<a href="#what-happens-during-analysis" class="hash-link" aria-label="Direct link to What happens during Analysis?" title="Direct link to What happens during Analysis?">​</a></h3>
<p>Whenever an item is added to one of your Libraries, Komga performs some analysis on it to gather information. In addition, all files analyzed will also be refreshed for metadata.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="gather-media-properties">Gather media properties<a href="#gather-media-properties" class="hash-link" aria-label="Direct link to Gather media properties" title="Direct link to Gather media properties">​</a></h4>
<p>The primary purpose of media analysis is to gather information about that media item. All of the media you add to a Library has properties that are useful to know, such as:</p>
<ul>
<li>Container: ZIP, RAR, EPUB, PDF, etc.</li>
<li>Images Format: JPEG, PNG, WEBP, etc.</li>
</ul>
<p>Why, though? What use are these media properties? Your Server, together with your apps, can use this information to help determine whether (and how) content can be played.</p>
<p>For example: Imagine you have a CBR file with WEBP images, but you’re using Internet Explorer (which can’t read WEBP). Since the webreader knows what kind of content your browser can display and since your media analysis detected that the book has WEBP images, your Komga Server can convert those images to a compatible format (like JPEG) for you in order to let you read your book successfully.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="generate-default-artwork">Generate default artwork<a href="#generate-default-artwork" class="hash-link" aria-label="Direct link to Generate default artwork" title="Direct link to Generate default artwork">​</a></h4>
<p>During analysis, artwork will automatically be grabbed from a book file. The first page will be used for poster/thumbnail type purposes.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="analyze-your-content">Analyze your content<a href="#analyze-your-content" class="hash-link" aria-label="Direct link to Analyze your content" title="Direct link to Analyze your content">​</a></h3>
<p>You can analyze content in multiple ways: for a book, for a series, or even for an entire Library.</p>
<p>Look for the action menu icon <img src="/assets/media/guides/action-menu-icon.png" style="vertical-align:middle;max-height:32px"> and click on <em>Analyze</em>.</p>
<div class="theme-admonition theme-admonition-warning admonition_WCGJ alert alert--warning"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_pbrs"><p>Depending on the size of your Library, analysis may take a while.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="media-analysis-screen">Media Analysis screen<a href="#media-analysis-screen" class="hash-link" aria-label="Direct link to Media Analysis screen" title="Direct link to Media Analysis screen">​</a></h3>
<p>You can check all the media for which the analysis did not succeed from the Media Analysis screen. You can access it from <em>Media Management &gt; Media Analysis</em>.</p>
<p>It will show you all books with a status of:</p>
<ul>
<li>Error: Komga could not analyze the book. If possible, there will be a comment to describe the error.</li>
<li>Unsupported: Komga does not support those files. The comment will give you more information.</li>
</ul>
<a href="/assets/media/guides/scan-analysis-refresh/media-analysis.png"><img src="/assets/media/guides/scan-analysis-refresh/media-analysis.png" style="max-height:400px" alt="Media Analysis"></a>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="refresh-metadata">Refresh metadata<a href="#refresh-metadata" class="hash-link" aria-label="Direct link to Refresh metadata" title="Direct link to Refresh metadata">​</a></h2>
<p>Refreshing Metadata for a library, series, or individual book causes the metadata for the item to be refreshed, even if it already has metadata. You can think of refreshing as “update metadata for the requested item even if it already has some”.</p>
<p>You should refresh a library or individual item if:</p>
<ul>
<li>You’ve changed options for the library</li>
<li>You’ve added &quot;local media assets&quot; (such as artwork)</li>
</ul>
<p>Metadata is gathered from the following sources:</p>
<ul>
<li>a local <code>ComicInfo.xml</code> file located inside a CBZ or CBR</li>
<li>the metadata of an EPUB file</li>
<li>local media assets</li>
</ul>
<p>The metadata refresh is dependent of the options of the Library.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="import-metadata-for-cbrcbz-containing-a-comicinfoxml-file">Import metadata for CBR/CBZ containing a ComicInfo.xml file<a href="#import-metadata-for-cbrcbz-containing-a-comicinfoxml-file" class="hash-link" aria-label="Direct link to Import metadata for CBR/CBZ containing a ComicInfo.xml file" title="Direct link to Import metadata for CBR/CBZ containing a ComicInfo.xml file">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="book-metadata">Book metadata<a href="#book-metadata" class="hash-link" aria-label="Direct link to Book metadata" title="Direct link to Book metadata">​</a></h4>
<p>This will import the following elements from the <code>ComicInfo.xml</code> file in Komga:</p>
<ul>
<li><code>Year</code>, <code>Month</code>, and <code>Day</code> to form the <em>Release Date</em></li>
<li><code>Writer</code>, <code>Penciller</code>, <code>Inker</code>, <code>Colorist</code>, <code>Letterer</code>, <code>CoverArtist</code>, <code>Editor</code>, and <code>Translator</code> as <em>Authors</em> with the according role. A value with multiple names separated by a <code>,</code> will be split in different authors.</li>
<li><code>Title</code>, <code>Summary</code>, <code>Number</code> as their Komga equivalent</li>
<li>Valid <code>Web</code> links as a book link</li>
<li>The <code>Tags</code> element will be split by <code>,</code> and added to the book&#x27;s <em>tags</em></li>
<li>If the <code>GTIN</code> element contains a valid ISBN, as the book&#x27;s <em>ISBN</em></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="series-metadata">Series metadata<a href="#series-metadata" class="hash-link" aria-label="Direct link to Series metadata" title="Direct link to Series metadata">​</a></h4>
<p>This will import the following elements from the <code>ComicInfo.xml</code> of the Series&#x27; books in Komga:</p>
<ul>
<li>The <code>Series</code> and <code>Volume</code> elements will be used to overwrite the title of the Series, in the form <code>&lt;Series&gt; (&lt;Volume&gt;)</code>, or just <code>&lt;Series&gt;</code> if the <code>Volume</code> element is not present, if the <code>Volume</code> is <code>1</code>, or if <em>Append volume to series title</em> is disabled. If multiple values are present, the most frequent value from all books will be used.</li>
<li>The various <code>AgeRating</code> values will be converted to a number in Komga. The highest value from all books will be used.</li>
<li>The most frequent <code>Publisher</code> value will be used as Komga&#x27;s equivalent.</li>
<li>A <code>Manga</code> element with the value <code>YesAndRightToLeft</code> will mark the reading direction as <em>Right to left</em>. The most frequent value from all books will be used.</li>
<li>The <code>Genre</code> element will be split by <code>,</code>. All genres from all books will be added to the Series.</li>
<li>The <code>LanguageISO</code> element will be used as the Series&#x27; language. The most frequent value from all books will be used.</li>
<li>The highest value from <code>Count</code> will be used as the total count of books.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="collections">Collections<a href="#collections" class="hash-link" aria-label="Direct link to Collections" title="Direct link to Collections">​</a></h4>
<p>The <code>SeriesGroup</code> element will be split by <code>,</code> and used to create collections with those names, or add the series to an existing collection if it exists.</p>
<p>If the <code>SeriesGroup</code> element is set to different values in each book of the series, then each value of the elements will create a collection.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="read-lists">Read lists<a href="#read-lists" class="hash-link" aria-label="Direct link to Read lists" title="Direct link to Read lists">​</a></h4>
<p>The <code>AlternateSeries</code> or <code>StoryArc</code> elements will be used to create a read list with that name, or add the book to an existing read list with that name.</p>
<p>If the <code>AlternateNumber</code> element is set, it will be used to position the book in the read list.</p>
<h5 class="anchor anchorWithStickyNavbar_JmGV" id="storyarcnumber">StoryArcNumber<a href="#storyarcnumber" class="hash-link" aria-label="Direct link to StoryArcNumber" title="Direct link to StoryArcNumber">​</a></h5>
<p>If the <code>StoryArcNumber</code> element is set, it will be used in conjunction with <code>StoryArc</code> to position the book in the read list.</p>
<p>Both <code>StoryArc</code> and <code>StoryArcNumber</code> elements can contain multiple values, separated by <code>,</code>. Komga will do its best to match each pair:</p>
<ul>
<li>If both elements are set, but do not contain the same number of values, the extra values will not be used</li>
<li>If there are invalid values, like blank strings or invalid numbers, the whole pair will be ignored</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="import-metadata-from-epub-files">Import metadata from EPUB files<a href="#import-metadata-from-epub-files" class="hash-link" aria-label="Direct link to Import metadata from EPUB files" title="Direct link to Import metadata from EPUB files">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="book-metadata-1">Book metadata<a href="#book-metadata-1" class="hash-link" aria-label="Direct link to Book metadata" title="Direct link to Book metadata">​</a></h4>
<p>This will import the following fields from the Epub metadata in Komga:</p>
<ul>
<li><code>dc:title</code> element as the <em>Title</em></li>
<li><code>dc:description</code> element as the <em>Summary</em></li>
<li><code>dc:date</code> element as the <em>Release date</em></li>
<li><code>dc:identifier</code> element as the <em>ISBN</em>, if it is a valid ISBN</li>
<li><code>dc:creator</code> element as <em>Authors</em>. The role will be imported either from the <code>opf:role</code> property, or from a <code>meta</code> element containing <code>role</code> property and a <code>marc:relators</code> scheme. A value with multiple names separated by a <code>,</code> will be split in different authors.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="series-metadata-1">Series metadata<a href="#series-metadata-1" class="hash-link" aria-label="Direct link to Series metadata" title="Direct link to Series metadata">​</a></h4>
<p>This will import the following fields from the Epub metadata in Komga:</p>
<ul>
<li><code>dc:publisher</code> element as the <em>Publisher</em></li>
<li><code>dc:language</code> element as the <em>Language</em></li>
<li>The <code>page-progression-direction</code> property of the <code>spine</code> element as the <em>Reading direction</em></li>
<li>The <code>belongs-to-collection</code> meta property will be used to overwrite the title of a Series. If multiple values are present, the most frequent value from all books will be used.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="import-metadata-generated-by-mylar">Import metadata generated by Mylar<a href="#import-metadata-generated-by-mylar" class="hash-link" aria-label="Direct link to Import metadata generated by Mylar" title="Direct link to Import metadata generated by Mylar">​</a></h3>
<p><a href="https://github.com/mylar3/mylar3" target="_blank" rel="noopener noreferrer">Mylar</a> can generate a <code>series.json</code> file inside your Series folders. This option will import the following fields into Komga:</p>
<ul>
<li>The <code>name</code> field will be used for the Series title. If the <code>volume</code> field is set and is different from <code>1</code>, then the <code>year</code> field will be appended to the title, in the form <code>&lt;name&gt; (&lt;year&gt;)</code>.</li>
<li><code>status</code> will be used to set the Series status.</li>
<li><code>description_formatted</code> or <code>description_text</code> will be used for the Series summary.</li>
<li><code>publisher</code> will be used for the Series publisher.</li>
<li><code>age_rating</code> will be used for the Series age rating.</li>
<li><code>total_issues</code> will be used for the total count of books.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="import-local-media-assets">Import local media assets<a href="#import-local-media-assets" class="hash-link" aria-label="Direct link to Import local media assets" title="Direct link to Import local media assets">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="local-artwork">Local artwork<a href="#local-artwork" class="hash-link" aria-label="Direct link to Local artwork" title="Direct link to Local artwork">​</a></h4>
<p>This will enable import for local artwork, check the <a href="/docs/guides/local-artwork-assets">Local Artwork Assets</a> section for more information.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="import-isbn-within-barcode">Import ISBN within barcode<a href="#import-isbn-within-barcode" class="hash-link" aria-label="Direct link to Import ISBN within barcode" title="Direct link to Import ISBN within barcode">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="isbn-barcode">ISBN barcode<a href="#isbn-barcode" class="hash-link" aria-label="Direct link to ISBN barcode" title="Direct link to ISBN barcode">​</a></h4>
<p>Komga will inspect the first and last 3 pages of each book for barcodes. If a barcode is present and contains an ISBN code, it will be imported.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/gotson/komga-website/tree/master/docs/guides/scan-analysis-refresh.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ydrU"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-12-04T01:18:13.000Z" itemprop="dateModified">Dec 4, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guides/trash"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Emptying Library Trash</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/guides/image-formats"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Image Types</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#scan-library-files" class="table-of-contents__link toc-highlight">Scan Library Files</a><ul><li><a href="#deep-scan" class="table-of-contents__link toc-highlight">Deep scan</a></li></ul></li><li><a href="#what-happens-during-a-scan" class="table-of-contents__link toc-highlight">What happens during a Scan?</a></li><li><a href="#analyze-books" class="table-of-contents__link toc-highlight">Analyze books</a><ul><li><a href="#what-happens-during-analysis" class="table-of-contents__link toc-highlight">What happens during Analysis?</a></li><li><a href="#analyze-your-content" class="table-of-contents__link toc-highlight">Analyze your content</a></li><li><a href="#media-analysis-screen" class="table-of-contents__link toc-highlight">Media Analysis screen</a></li></ul></li><li><a href="#refresh-metadata" class="table-of-contents__link toc-highlight">Refresh metadata</a><ul><li><a href="#import-metadata-for-cbrcbz-containing-a-comicinfoxml-file" class="table-of-contents__link toc-highlight">Import metadata for CBR/CBZ containing a ComicInfo.xml file</a></li><li><a href="#import-metadata-from-epub-files" class="table-of-contents__link toc-highlight">Import metadata from EPUB files</a></li><li><a href="#import-metadata-generated-by-mylar" class="table-of-contents__link toc-highlight">Import metadata generated by Mylar</a></li><li><a href="#import-local-media-assets" class="table-of-contents__link toc-highlight">Import local media assets</a></li><li><a href="#import-isbn-within-barcode" class="table-of-contents__link toc-highlight">Import ISBN within barcode</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/guides">Guides</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/TdRpkDu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Announcements</a></li><li class="footer__item"><a href="https://github.com/gotson/komga" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>